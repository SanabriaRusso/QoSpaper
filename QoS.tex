 \documentclass[a4paper]{article}

%For Elsevier
\usepackage{setspace}
\usepackage{fullpage}
%\usepackage{algorithm2e}
\providecommand{\keywords}[1]{\textbf{\textit{Index terms---}} #1}
%%%%%%%%%%%%%


\usepackage{cite}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{float}
\usepackage{color, colortbl}
\usepackage{xcolor}
\usepackage{array}
\usepackage{multirow}
\usepackage{footnote}
\usepackage{cite}
%The below is used to add notes to tables without disrupting the IEEEtran format
\usepackage[normal]{threeparttable}
%Multiple figures in a row
%\usepackage{caption}
%\usepackage{subcaption}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{flushend}

%Put the references in a nice way so the empty space is not overly great.
%\usepackage{flushend}

%Algorithms
\usepackage[linesnumbered,vlined,norelsize]{algorithm2e}

%\usepackage[hyphens]{url}
\usepackage{caption}
\usepackage{subcaption}

\usepackage{hyperref}
% Disable below if wanting to comply exclusively to conference mode of IEEEtran
% \IEEEoverridecommandlockouts

%ommit the error about the algorithm
\makeatletter
\newcommand{\removelatexerror}{\let\@latex@error\@gobble}
\makeatother

%put a footnote without number
\makeatletter
\def\blfootnote{\xdef\@thefnmark{}\@footnotetext}
\makeatother

\usepackage{lipsum}

\newcommand{\FGC}[1]{\textcolor{blue} {({\bf COMMENT: }#1)}}
\newcommand{\FGT}[1]{\textcolor{red} {#1}}

\title{Traffic Differentiation in Dense Collision-free WLANs}
  \author{Luis Sanabria-Russo and Boris Bellalta\\ Department of Information and Communication Technologies \\ Universitat Pompeu Fabra, Barcelona, Spain \\ \texttt{<luis.sanabria,boris.bellalta>@upf.edu}}
	

%	\author{\IEEEauthorblockN{Luis Sanabria-Russo\IEEEauthorrefmark{3}}\\

   %  \author{\IEEEauthorblockN{Luis Sanabria-Russo\IEEEauthorrefmark{}, Boris Bellalta\IEEEauthorrefmark{}}\\
%      \IEEEauthorblockA{\IEEEauthorrefmark{}Department of Information and Communication Technologies \\ Universitat Pompeu Fabra, Barcelona, Spain
%      \\\ {\tt \{luis.sanabria,boris.bellalta\}@upf.edu}}\\
%     % \IEEEauthorblockA{\IEEEauthorrefmark{2}CNIT / University of Brescia, Brescia, Italy
%      \\\ {\tt francesco.gringoli@ing.unibs.it}}
%  }


\begin{document}

\date{}
\maketitle

\begin{abstract}
The ability to perform traffic differentiation is a promising feature of the current Medium Access Control (MAC) in Wireless Local Area Networks (WLANs). The Enhaced Distributed Channel Access (EDCA) MAC protocol for WLANs proposes up to four Access Categories (AC) that can be mapped to different traffic priorities. High priority ACs are allowed to transmit more often than low priority ACs, providing a way of prioritising delay sensitive traffic like voice calls or video streaming. Further, EDCA also considers the intricacies related to the management of multiple queues, virtual collisions and priority. Nevertheless, EDCA falls short in efficiency when performing in dense WLAN scenarios. Its collision-prone contention mechanism degrades the overall throughput to the point of starving low priority ACs.

Carrier Sense Multiple Access with Enhanced Collision Avoidance (CSMA/ECA) is a compatible MAC protocol for WLANs which is also capable of providing traffic differentiation. Contrary to EDCA, CSMA/ECA uses a contention mechanism with a deterministic backoff technique which is capable of constructing collision-free schedules for many nodes with multiple ACs, extending the network capacity without starving low priority ACs, as experienced in EDCA. This work analyses traffic differentiation with CSMA/ECA by describing the mechanisms used to construct collision-free schedules with multiple queues. Furthermore, it introduces a way to eliminate Virtual Collisions (VC), which also contribute to the throughput degradation in EDCA WLANs. Finally, it provides simulation results that show CSMA/ECA outperforming EDCA in different commonly-found networking scenarios, including coexistence.
\end{abstract}

\keywords{Wireless LAN, Multiaccess Communication, Collision-Free, QoS, EDCA}


%\doublespacing\onehalfspacing

\section{Introduction}
Wireless Local Area Networks (WLANs or WiFi networks~\cite{802Standards}) are a popular solution for wireless connectivity. Ranging from computers to wearable devices, it has widespread adoption. Unlike other wireless technologies, the medium in WLANs is shared. Every user having a packet to transmit must join a contention for the channel, whose winners will gain access and attempt a transmission. The Distributed Coordination Function (DCF) is based on Carrier Sense Multiple Access with Collision Avoidance (CSMA/CA)\footnote{DCF and CSMA/CA will be used interchangeably throughput the rest of the text.}, it coordinates access to the wireless channel by deferring each contender's transmission for a random backoff period.

WiFi's increasing adoption coupled with the envisioned multi-media, real-time and bandwidth-hungry future use cases push the need for mechanisms to prioritise traffic in order to ensure Quality of Service (QoS) in dense scenarios with many nodes~\cite{HEW-scenarios,bellalta2015WCM} ; i.e., to provide advantageous conditions for throughput or delay sensitive applications like video calls, streaming or gaming. The Enhanced Distributed Channel Access (EDCA) (specified in IEEE 802.11e protocol~\cite{80211e}), builds over DCF in order to provide this kind of traffic differentiation.

EDCA proposes up to four queues or Access Categories (ACs), each one working as an instance of the DCF. Essentially, at the Medium Access Control (MAC) layer EDCA allows the highest priority AC to access the channel more often than lower priority ACs.

Carrier Sense Multiple Access with Enhanced Collision Avoidance (CSMA/ECA)~\cite{sanabria2014high,research2standards} is capable of achieving greater throughput than CSMA/CA mostly due to its ability to make a more efficient use of the channel, particularly in dense WLAN networks~\cite{sanabria2014high}. Instead of deferring each contender's transmission for a random backoff period (as in CSMA/CA), CSMA/ECA instructs contenders to use a deterministic backoff after successful transmissions. In doing so, contenders that successfully transmitted in the past will do so again without colliding with other successful contenders in future cycles. By constructing collision-free schedules CSMA/ECA is able to avoid the throughput starvation of low priority ACs~\cite{990806}, hence yielding greater throughput than EDCA.

Analogous to EDCA, CSMA/ECA can be extrapolated to handle multiple queues, thus providing a way to implement EDCA-compatible collision-free traffic differentiation in WLANs. 

Although several studies analyse the performance or extend CSMA/ECA to support many contenders~\cite{bellalta2009vtc,barcelo2011tcf,ECA-DEMO-INFOCOM14,research2standards,sanabria2014high}, this work is the first to incorporate traffic differentiation into the protocol with all of its extensions. We provide the following contributions:

\begin{itemize}
	\item Adaptation of CSMA/ECA to support multiple queues for traffic differentiation.
	\item Introduction of the Smart Backoff mechanism for eliminating Virtual Collisions (VC).
	\item First simulation results on throughput, collisions and delay for CSMA/ECA with four ACs.
	\item Evaluation of the coexistence and backwards compatibility with EDCA.
\end{itemize}

Results show that CSMA/ECA is able to provide collision-free traffic differentiation under saturated traffic conditions for a greater number of contenders. Moreover, because it makes a more efficient use of the channel time, CSMA/ECA outperforms EDCA in all tested scenarios. Equally important, results show that CSMA/ECA is able to coexist with EDCA. In fact, the overall throughput of a mixed network is greater than the observed in a EDCA-only network.

An overview of the traffic differentiation techniques in EDCA will be provided in Section~\ref{section2}. Then, we will present CSMA/ECA and its ability to provide traffic differentiation in Section~\ref{section3}. The performance evaluation is shown in Section~\ref{section4}, while we draw our conclusions in Section~\ref{section5}.

\input{relatedWork}
\input{tdCSMAECA}
\input{performanceEv}

\section{Conclusions}\label{section5}
EDCA is able of providing effective traffic differentiation in WLANs. It does so instantiating DCF for each of its four supported MAC queues, or Access Categories (AC), and defining different contention and transmission parameters that allow an statistical differentiation among them. 
%The proposed CSMA/ECA$_{\text{QoS}}$, is also a totally decentralised MAC protocol for WiFi. It is able of providing traffic differentiation even for a high number of contenders. It does so by instructing nodes to pick a deterministic backoff counter after successful transmissions. These counters are based on the contention parameters in order to provide differentiation among the ACs.

Results highlight EDCA's problems at serving many contenders with multiple ACs. Specifically, its contention mechanism being based on a random backoff is in principle unable to eliminate collisions that degrade the overall performance of the network. Further, strict differentiation techniques like AIFS, and the additional transmission deferrals due to Virtual Collisions starve low-priority ACs in terms of throughput.

CSMA/ECA$_{\text{QoS}}$ is able to construct collision-free periods that provide an overall throughput increase, while still providing traffic differentiation for many more contenders. That is, CSMA/ECA$_{\text{QoS}}$ is able to bring traffic differentiation to crowded networks without killing the throughput of low priority ACs, as EDCA does. Further, because both protocols use similar contention parameters, CSMA/ECA$_{\text{QoS}}$ can coexist with EDCA nodes in the same network and still enjoy higher throughput and traffic differentiation.

\section*{ACKNOWLEDGMENT}
Partially supported by the Spanish government under project CISNETS (TEC2012-32354).

\bibliographystyle{IEEEtran}
\bibliography{ref}

\end{document}
